{"version":3,"sources":["pie.component.ts"],"names":[],"mappings":"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","file":"pie.component.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Observable }     from 'rxjs/Observable';\nimport { ProductsService } from './personal.service';\nimport { ActivatedRoute  } from '@angular/router';\nimport { Http } from '@angular/http';\n\n\nimport 'rxjs/add/operator/map';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: '/app/templates/pie-report.html',\n  providers: [ProductsService],\n})\nexport class PieComponent {\n  id:number = 123456;\n  date:string;\n  date_end:string;\n  products:Observable<Array<string>>;\n  access:Observable<Array<string>>;\n  dataExtrac:Observable<Array<string>>;\n\n  showPie : number;\n  showExtrac : number;\n  user:any;\n\n  public pieChartLabels:string[] = ['Renta Variable $ %', 'Renta Fija $ %', 'Fic\\'s $ %'];\n  public pieChartData:number[];\n  public pieChartType:string = 'pie';\n  public pieChartOptions:any = {\n          legend: {\n                  display: true,\n                  labels: {\n                      fontSize:30,\n                      boxWidth:30,\n                      padding:30\n\n                  },\n              },\n          tooltips:\n                  {\n                    display:false,\n                    bodyFontSize: 1,\n                  },\n        }\n\n  /*public pieCharColors:Array<any> = [\n    {\n      backgroundColor: '#000000',\n    },\n    {\n      backgroundColor: 'rgba(0, 102, 255)',\n    },\n    {\n      backgroundColor: 'rgba(204, 153, 51)',\n    }\n  ]*/\n\n\n  constructor(private productsService: ProductsService, private activatedRoute:ActivatedRoute,private http: Http) {\n    this.activatedRoute.params.subscribe(\n      params => {\n                  this.id = params['id'],\n                  this.date = params['date']\n                }\n    )\n    productsService.Data\n      .subscribe(\n        data => {this.products = data},\n        error => console.error(`Error: ${error}`),\n        () => this.setParamsPie()\n      );\n      this.showPie = 1\n      this.showExtrac = 0\n\n  }\n  public setParamsPie(){\n    console.log(this.products)\n    var PieData = [];\n    var cont = 0;\n    for( var item in this.products){\n      for(var elem in this.products[item] ){\n          if(item == 'pie_porcents'){\n            PieData.push(this.products[item][elem]);\n            this.pieChartLabels[cont] = this.pieChartLabels[cont].replace('$',this.products[item][elem])\n            cont = cont+1;\n          }\n        }\n    }\n    this.pieChartData = PieData;\n\n    if(this.products.hasOwnProperty('access')){\n        console.log(this.products['access']);\n    }\n\n  }\n\n  // events\n  public chartClicked(e:any):void {\n//    console.log(e);\n    console.log(this.pieChartOptions);\n\n  }\n\n  public chartHovered(e:any):void {\n    //console.log(e);\n  }\n  show_pie(){\n    event.preventDefault();\n    this.showPie = 1;\n    this.showExtrac = 0;\n  }\n  show_extrac(){\n    event.preventDefault();\n    this.showExtrac = 1;\n    this.showPie = 0;\n  }\n\n  search(){\n    this.http.get('api/client-report/'+this.id+'/'+this.date+'/'+this.date_end)\n                      .map( response => response.json() )\n                      .subscribe(\n                        data => { this.dataExtrac = data},\n                        error => console.error(`Error: ${error}`),\n                        () => console.log(this.dataExtrac)\n                      );\n\n  }\n\n\n}\n"]}