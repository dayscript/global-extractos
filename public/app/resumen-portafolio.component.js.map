{"version":3,"sources":["resumen-portafolio.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAAoD;AAEpD,uDAAqD;AACrD,0CAAyD;AACzD,sCAAqC;AACrC,iCAA+B;AAQ/B,IAAa,0BAA0B;IAiCrC;;;;;;;;;;OAUG;IAGH,oCAAoB,eAAgC,EAAU,cAA6B,EAAS,IAAU,EAAS,MAAa;QAApI,iBAgCC;QAhCmB,oBAAe,GAAf,eAAe,CAAiB;QAAU,mBAAc,GAAd,cAAc,CAAe;QAAS,SAAI,GAAJ,IAAI,CAAM;QAAS,WAAM,GAAN,MAAM,CAAO;QAjC7H,mBAAc,GAAY,CAAC,gBAAgB,EAAE,oBAAoB,EAAE,YAAY,CAAC,CAAC;QAEjF,iBAAY,GAAU,KAAK,CAAC;QAC5B,oBAAe,GAAO;YACrB,MAAM,EAAE;gBACA,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE;oBACJ,QAAQ,EAAC,EAAE;oBACX,QAAQ,EAAC,EAAE;oBACX,OAAO,EAAC,EAAE;iBAEb;aACJ;YACL,QAAQ,EACA;gBACE,OAAO,EAAC,KAAK;gBACb,YAAY,EAAE,CAAC;aAChB;SACV,CAAA;QAgBL,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAClC,UAAA,MAAM;YAAI,KAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,IAAI,CAAC;gBACrC,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;QAC7B,CAAC,CACV,CAAA;QACD,eAAe,CAAC,IAAI;aACjB,SAAS,CACR,UAAA,IAAI,IAAM,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAA,CAAA,CAAC,EAC/B,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,YAAU,KAAO,CAAC,EAAhC,CAAgC,EACzC,cAAM,OAAA,KAAI,CAAC,YAAY,EAAE,EAAnB,CAAmB,CAC1B,CAAC;QACJ,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;QAChB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAA;QAEnB,UAAU,CAAC;YAET,CAAC,CAAC;gBACA,CAAC,CAAE,aAAa,CAAE,CAAC,UAAU,CAAC;oBAC5B,UAAU,EAAE,UAAU;iBACvB,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,EAAC,IAAI,CAAC,CAAC;QAER,eAAe,CAAC,SAAS;aACtB,SAAS,CACR,UAAA,IAAI,IAAM,KAAI,CAAC,SAAS,GAAG,IAAI,CAAA,CAAC,CAAC,EACjC,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAE,iBAAiB,CAAE,EAAhC,CAAgC,EACzC,cAAM,OAAA,KAAI,CAAC,KAAK,GAAG,IAAI,IAAI,EAAE,EAAvB,CAAuB,CAC9B,CAAC;IAGN,CAAC;IAEM,iDAAY,GAAnB;QAEE,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,IAAI,GAAG,CAAC,CAAC;QAEb,EAAE,CAAA,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAA,CAAC;YACvB,KAAK,CAAC,wBAAwB,CAAC,CAAA;QACnC,CAAC;QAED,GAAG,CAAA,CAAE,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAA,CAAC;YAC9B,GAAG,CAAA,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,CAAC,CAAA,CAAC;gBAClC,EAAE,CAAA,CAAC,IAAI,IAAI,cAAc,CAAC,CAAA,CAAC;oBACzB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACxC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,EAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;oBAC5F,IAAI,GAAG,IAAI,GAAC,CAAC,CAAC;gBAChB,CAAC;YACH,CAAC;QACL,CAAC;QACD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;QAE5B,EAAE,CAAA,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAA,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzC,CAAC;IAEH,CAAC;IAED,SAAS;IACF,iDAAY,GAAnB,UAAoB,CAAK;QAC3B,qBAAqB;QACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAEpC,CAAC;IAEM,iDAAY,GAAnB,UAAoB,CAAK;QACvB,iBAAiB;IACnB,CAAC;IACD,6CAAQ,GAAR;QACE,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACtB,CAAC;IACD,gDAAW,GAAX;QACE,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;IACnB,CAAC;IAED,2CAAM,GAAN;QACE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE,CAAA;QACnC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,GAAC,IAAI,CAAC,iBAAiB,GAAC,GAAG,GAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5E,CAAC;IAEH,iCAAC;AAAD,CApIA,AAoIC,IAAA;AApIY,0BAA0B;IALtC,gBAAS,CAAC;QACT,QAAQ,EAAE,QAAQ;QAClB,WAAW,EAAE,2CAA2C;QACxD,SAAS,EAAE,CAAC,kCAAe,CAAC;KAC7B,CAAC;qCA+CqC,kCAAe,EAAyB,uBAAc,EAAe,WAAI,EAAgB,eAAM;GA9CzH,0BAA0B,CAoItC;AApIY,gEAA0B","file":"resumen-portafolio.component.js","sourcesContent":["import { Component,Directive } from '@angular/core';\r\nimport { Observable }     from 'rxjs/Observable';\r\nimport { ProductsService } from './personal.service';\r\nimport { ActivatedRoute,Router  } from '@angular/router';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\ndeclare var $: any\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  templateUrl: '/app/templates/resumen-de-portafolio.html',\r\n  providers: [ProductsService],\r\n})\r\nexport class ResumenPortafolioComponent {\r\n  id_identificacion:string;\r\n  fecha:string;\r\n  date_end:string;\r\n  products:Observable<Array<string>>;\r\n  access:Observable<Array<string>>;\r\n  dataExtrac:Observable<Array<string>>;\r\n  user_info:Observable<Array<string>>;\r\n  showPie : number;\r\n  showExtrac : number;\r\n  user:any;\r\n  today:any;\r\n\r\n  public pieChartLabels:string[] = ['Renta Fija $ %', 'Renta Variable $ %', 'Fic\\'s $ %'];\r\n  public pieChartData:number[];\r\n  public pieChartType:string = 'pie';\r\n  public pieChartOptions:any = {\r\n          legend: {     \r\n                  display: true,\r\n                  labels: {\r\n                      fontSize:30,\r\n                      boxWidth:30,\r\n                      padding:30\r\n\r\n                  },\r\n              },\r\n          tooltips:\r\n                  {\r\n                    display:false,\r\n                    bodyFontSize: 1,\r\n                  },\r\n        }\r\n\r\n  /*public pieCharColors:Array<any> = [\r\n    {\r\n      backgroundColor: '#000000',\r\n    },\r\n    {\r\n      backgroundColor: 'rgba(0, 102, 255)',\r\n    },\r\n    {\r\n      backgroundColor: 'rgba(204, 153, 51)',\r\n    }\r\n  ]*/\r\n\r\n\r\n  constructor(private productsService: ProductsService, private activatedRoute:ActivatedRoute,private http: Http,private Router:Router) {\r\n    this.activatedRoute.params.subscribe(\r\n      params=>{ this.id_identificacion = params['id'],\r\n                this.fecha = params['date']\r\n              }\r\n    )\r\n    productsService.Data\r\n      .subscribe(\r\n        data => { this.products = data},\r\n        error => console.error(`Error: ${error}`),\r\n        () => this.setParamsPie(),\r\n      );\r\n    this.showPie = 1\r\n    this.showExtrac = 0\r\n\r\n    setTimeout(function() {\r\n\r\n      $(function() {\r\n        $( \"#datepicker\" ).datepicker({\r\n          dateFormat: \"yy-mm-dd\"\r\n        });\r\n      });\r\n    },1000);\r\n\r\n    productsService.user_info\r\n      .subscribe(\r\n        data => { this.user_info = data },\r\n        error => console.log( 'Error: ${error}' ),\r\n        () => this.today = new Date(),\r\n      );\r\n\r\n\r\n  }\r\n\r\n  public setParamsPie(){\r\n\r\n    var PieData = [];\r\n    var cont = 0;\r\n\r\n    if(this.products['error']){\r\n        alert('Servicio no disponible')\r\n    }\r\n\r\n    for( var item in this.products){\r\n      for(var elem in this.products[item] ){\r\n          if(item == 'pie_porcents'){\r\n            PieData.push(this.products[item][elem]);\r\n            this.pieChartLabels[cont] = this.pieChartLabels[cont].replace('$',this.products[item][elem])\r\n            cont = cont+1;\r\n          }\r\n        }\r\n    }\r\n    this.pieChartData = PieData;\r\n\r\n    if(this.products.hasOwnProperty('access')){\r\n        console.log(this.products['access']);\r\n    }\r\n\r\n  }\r\n\r\n  // events\r\n  public chartClicked(e:any):void {\r\n//    console.log(e);\r\n    console.log(this.pieChartOptions);\r\n\r\n  }\r\n\r\n  public chartHovered(e:any):void {\r\n    //console.log(e);\r\n  }\r\n  show_pie(){\r\n    event.preventDefault();\r\n    this.showPie = 1;\r\n    this.showExtrac = 0;\r\n  }\r\n  show_extrac(){\r\n    event.preventDefault();\r\n    this.showExtrac = 1;\r\n    this.showPie = 0;\r\n  }\r\n\r\n  search(){\r\n    this.fecha = $('#datepicker').val()\r\n    window.location.replace('/report/'+this.id_identificacion+'/'+this.fecha);\r\n  }\r\n\r\n}\r\n"]}