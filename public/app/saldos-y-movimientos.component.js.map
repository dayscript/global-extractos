{"version":3,"sources":["saldos-y-movimientos.component.ts"],"names":[],"mappings":"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","file":"saldos-y-movimientos.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable }     from 'rxjs/Observable';\nimport { ProductsService } from './personal.service';\nimport { ActivatedRoute  } from '@angular/router';\nimport 'rxjs/add/operator/map';\nimport { Http } from '@angular/http';\ndeclare var $: any\n\n/**\n * Componente para la pagina de salfos y movimientos firma\n */\n@Component({\n  selector: 'my-app',\n  templateUrl: '/app/templates/saldos-y-movimientos.html',\n  providers: [ProductsService],\n})\nexport class SaldosMovimientosComponent implements OnInit{\n  private id_identificacion:string = '';\n  private fecha:string = ''\n  private fecha_inicio = ''\n  private fecha_final = ''\n  private renta_variable:any = false;\n  private info_movimientos:any = false;\n  private renta_fija:any = false;\n  private opl:any = false;\n  private opc:any = false;\n  private url_download: any;\n\n  constructor(private productsService:ProductsService, private activatedRoute:ActivatedRoute, private http: Http){}\n\n  ngOnInit():void{\n    this.activatedRoute.params.subscribe(\n      params => {\n        this.id_identificacion = params['id'],\n        this.fecha = params['date']\n      }\n    );\n\n    setTimeout( () =>{ this.getData()},1);\n  }\n\n\n   getData():void{\n     setTimeout(function() {\n       $(function() {\n         $( \"#datepicker_start\" ).datepicker({\n           dateFormat: \"yy-mm-dd\"\n         });\n       });\n       $(function() {\n         $( \"#datepicker_end\" ).datepicker({\n             dateFormat: \"yy-mm-dd\"\n         });\n       });\n     },1000);\n\n\n     this.productsService.getRentaVariable(this.id_identificacion, this.fecha).subscribe(\n       data  => { this.renta_variable = data },\n       error => console.log(error),\n       ()    => { /**/ }\n     );\n\n     this.productsService.getRetaFija(this.id_identificacion, this.fecha).subscribe(\n       data  => {this.renta_fija = data},\n       error => console.log('error: ${error}'),\n       ()    => {/**/}\n     );\n\n     this.productsService.getOperacionesPorCumplir(this.id_identificacion, this.fecha).subscribe(\n       data  => {this.opc = data},\n       error => console.log('error:${error}'),\n       ()    => {/**/}\n     );\n\n     this.productsService.getOperacionesDeLiquidez(this.id_identificacion, this.fecha).subscribe(\n       data  => {this.opl = data},\n       error => console.log('error: ${error}'),\n       ()    => {/**/}\n     );\n   }\n\n   private sumValues(values=[], field:string):any {\n     let total = 0;\n     values.forEach( (val) => {\n       if(typeof val[field] != 'undefined'){\n         total += parseFloat(val[field])\n        }\n      })\n     return total\n   }\n\n   private restValues(values=[], field:string,field2:string):any{\n     let minuendo = 0;\n     let sustranedo = 0;\n     let resultado = 0;\n\n     values.forEach( (val) => {\n       if(typeof val[field] != 'undefined'){\n         minuendo += parseFloat(val[field])\n        }\n      });\n\n      values.forEach( (val) => {\n        if(typeof val[field2] != 'undefined'){\n          sustranedo += parseFloat(val[field2])\n         }\n       })\n    return minuendo - sustranedo;\n   }\n\n  private search():void{\n    this.fecha_inicio = $('#datepicker_start').val()\n    this.fecha_final = $('#datepicker_end').val()\n    var url = 'api/reporte-movimientos/'+this.id_identificacion+'/'+this.fecha_inicio+'/'+this.fecha_final\n    this.url_download = 'download/reporte-movimientos/'+this.id_identificacion+'/'+this.fecha_inicio+'/'+this.fecha_final\n    this.http.get(url)\n                .map( response => response.json() )\n                .subscribe(\n                  data => { this.info_movimientos = data},\n                  error => console.error(`Error: ${error}`),\n                  () => {/**/}\n                );\n\n  }\n}\n"]}