{"version":3,"sources":["extractos-y-certificaciones.component.ts"],"names":[],"mappings":"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","file":"extractos-y-certificaciones.component.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Observable }     from 'rxjs/Observable';\nimport { ProductsService } from './personal.service';\nimport { ActivatedRoute  } from '@angular/router';\nimport 'rxjs/add/operator/map';\nimport { Http } from '@angular/http';\ndeclare var $: any\n\n/**\n * Componente para la pagina de salfos y movimientos firma\n */\n@Component({\n  selector: 'my-app',\n  templateUrl: '/app/templates/extractos-y-certificaciones.html',\n  providers: [ProductsService],\n})\nexport class ExtractosCertificaciones {\n  id_identificacion = 0\n  fecha:string = ''\n  user_info:Observable<Array<string>>;\n  fics_filter:Observable<Array<string>>;\n  today:any;\n  option_select = 'NA'\n  fecha_select_firma = 'NA'\n  fecha_select = 'NA'\n  download = 'NA'\n  fechas = []\n  info_movimientos:Observable<Array<string>>;\n  fondo:any;\n  encargo:any;\n\n\n  constructor(\n    private productsService:ProductsService,\n    private activatedRoute:ActivatedRoute,\n    private http: Http,\n  )\n  {\n    this.activatedRoute.params.subscribe(\n      params => {\n        this.id_identificacion = params['id'],\n        this.fecha = params['date']\n      }\n    )\n    productsService.user_info\n      .subscribe(\n        data => { this.user_info = data },\n        error => console.log( 'Error: ${error}' ),\n        () => this.today = new Date(),\n      );\n\n    productsService.FicsFilter.subscribe(\n      data => { this.fics_filter = data },\n      error => console.log( 'Error: ${error}' ),\n      () => console.log(this.fics_filter)\n    )\n\n    for (var i = 1; i <= 6; i++) {\n      var date = new Date()\n      date.setMonth(date.getMonth()-i)\n      this.fechas.push(date);\n    }\n  }\n  download_firma(){\n     this.fecha_select_firma = $('#fecha_select_firma').val()\n     if(this.fecha_select_firma == 'NA'){\n        $('#fecha_select_firma').css('border','solid 1px red;')\n        return;\n     }\n     window.location.replace('/download-firma-extrac/'+this.id_identificacion+'/'+this.fecha_select_firma)\n\n  }\n  download_fics(){\n    this.fecha_select = $('#fecha_select').val()\n    this.option_select = $('#option_select').val()\n    if(this.fecha_select == 'NA' || this.option_select == 'NA'){\n      return;\n    }\n    var fecha  = this.fecha_select\n    var split = this.option_select.split('|')\n    var url = '/download-fics-extrac/'+this.id_identificacion+'/'+split[0]+'/'+split[2]+'/'+fecha\n    console.log(url)\n    window.location.replace(url)\n\n  }\n  download_renta(){\n    this.download = $('#download_cert').val()\n    if(this.download == 'NA'){\n      alert('Por favor seleccione un aÃ±o')\n      return;\n    }\n    //var url = '/download-fics-extrac/'+this.id_identificacion+'/'+split[0]+'/'+split[2]+'/'+fecha\n    var url = '/download-renta/2016'\n    window.location.replace(url)\n  }\n\n}\n"]}