{"version":3,"sources":["extractos-y-certificaciones.component.ts"],"names":[],"mappings":"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","file":"extractos-y-certificaciones.component.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { Observable }     from 'rxjs/Observable';\r\nimport { ProductsService } from './personal.service';\r\nimport { ActivatedRoute  } from '@angular/router';\r\nimport 'rxjs/add/operator/map';\r\nimport { Http } from '@angular/http';\r\ndeclare var $: any\r\n\r\n/**\r\n * Componente para la pagina de salfos y movimientos firma\r\n */\r\n@Component({\r\n  selector: 'my-app',\r\n  templateUrl: '/app/templates/extractos-y-certificaciones.html',\r\n  providers: [ProductsService],\r\n})\r\nexport class ExtractosCertificaciones {\r\n  id_identificacion:string = ''\r\n  fecha:string = ''\r\n  user_info:Observable<Array<string>>;\r\n  fics_filter:Observable<Array<string>>;\r\n  today:any;\r\n  option_select = 'NA'\r\n  fecha_select_firma = 'NA'\r\n  fecha_select = 'NA'\r\n  download = 'NA'\r\n  fechas = []\r\n  info_movimientos:Observable<Array<string>>;\r\n  fondo:any;\r\n  encargo:any;\r\n\r\n\r\n  constructor(\r\n    private productsService:ProductsService,\r\n    private activatedRoute:ActivatedRoute,\r\n    private http: Http,\r\n  )\r\n  {\r\n    this.activatedRoute.params.subscribe(\r\n      params => {\r\n        this.id_identificacion = params['id'],\r\n        this.fecha = params['date']\r\n      }\r\n    )\r\n    productsService.user_info\r\n      .subscribe(\r\n        data => { this.user_info = data },\r\n        error => console.log( 'Error: ${error}' ),\r\n        () => this.today = new Date(),\r\n      );\r\n\r\n    productsService.FicsFilter.subscribe(\r\n      data => { this.fics_filter = data },\r\n      error => console.log( 'Error: ${error}' ),\r\n      () => console.log(this.fics_filter)\r\n    )\r\n\r\n    for (var i = 1; i <= 6; i++) {\r\n      var date = new Date()\r\n      date.setMonth(date.getMonth()-i)\r\n      this.fechas.push(date);\r\n    }\r\n  }\r\n  download_firma(){\r\n     this.fecha_select_firma = $('#fecha_select_firma').val()\r\n     if(this.fecha_select_firma == 'NA'){\r\n       $('#fecha_select_firma').css('border','1px solid rgb(255, 0, 0)');\r\n        return;\r\n     }\r\n     window.location.replace('/download-firma-extrac/'+this.id_identificacion+'/'+this.fecha_select_firma)\r\n\r\n  }\r\n  download_fics(){\r\n    this.fecha_select = $('#fecha_select').val()\r\n    this.option_select = $('#option_select').val()\r\n    if(this.fecha_select == 'NA' || this.option_select == 'NA'){\r\n      $('#option_select').css('border','1px solid rgb(255, 0, 0)');\r\n      $('#fecha_select').css('border','1px solid rgb(255, 0, 0)');\r\n      return;\r\n    }\r\n    var fecha  = this.fecha_select\r\n    var split = this.option_select.split('|')\r\n    var url = '/download-fics-extrac/'+this.id_identificacion+'/'+split[0]+'/'+split[2]+'/'+fecha\r\n    console.log(url)\r\n    window.location.replace(url)\r\n\r\n  }\r\n  download_renta(){\r\n    this.download = $('#download_cert').val()\r\n    if(this.download == 'NA'){\r\n      $('#download_cert').css('border','1px solid rgb(255, 0, 0)');\r\n      return;\r\n    }\r\n    //var url = '/download-fics-extrac/'+this.id_identificacion+'/'+split[0]+'/'+split[2]+'/'+fecha\r\n    var url = '/download-renta/2016'\r\n    window.location.replace(url)\r\n  }\r\n\r\n}\r\n"]}